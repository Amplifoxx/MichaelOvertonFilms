<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Mike Overton</title>
    <link rel="stylesheet" href="work.css"/>

</head>

<div id="lightbox" class="lightbox hidden">
  <div class="lightbox-content">
    <button id="lightbox-close">&times;</button>
    <iframe id="lightbox-video"
            src=""
            frameborder="0"
            allow="autoplay; fullscreen"
            allowfullscreen></iframe>
  </div>
</div>


<body>



 <!-- this section is the top nav. FILMS GRAPHICS ETC. Might not need it anymore -->
 <div class="nav" id="nav" style="z-index: 3;">
  <a href="index.html"><button class="nav__title"><p style="line-height: 40px;">Mike Overton</break><span style="margin:5px"></span><span style="font-size: 10px; letter-spacing: -2px; opacity:0"> マイク・オヴァートン</span></button></a>
 <!-- <a href="index.html"><button class="nav__title"><p style="line-height: 40px;">Atrium.</p><p style="font-size: 10px;font-family: Gilroy_Bold;letter-spacing: 7px;margin-left:5px">IMAGERY</p></button></a>-->
      <!-- <img src="images/netflix-avatar.png" alt="" class="nav__avatar"> -->
      <!--<a href=home.html><button class="nav__page">Films</button></a> -->
      <!--<button class="nav__page" onClick="scrollToBottom()" style="margin-top:5px">Graphics</button>-->
      <!-- <a href=home.html><button class="nav__page">Animation</button></a> -->
      <div class="nav__spacer"></div>
          <a href="work.html"><button class="nav__button"></button></a>
          <button class="contactBtn" id="contactBtn">Contact</button>
          <!-- <button class="nav__button">RESUMÉ</button> -->
      </div>

      <div id="contactPopup" class="contact-popup hidden">
  <div class="contact-popup__content">
    <button id="contactClose" class="contact-popup__close">&times;</button>
    <h2>Contact</h2>
    <p><a href="mailto:michaelovertonfilms@gmail.com">michaelovertonfilms@gmail.com</a></p>
    <p><a href="https://instagram.com/mikemovt" target="_blank">Instagram</a>
    </p>
  </div>
</div>
      

      
    
        <div class="spacer">
                  </div>


<!--
<section class="contact-tile">
  <div class="contact-row">
    
    <a class="pill" href="tel:+18028815746" data-copy="+1 (802) 881-5746">
      <span class="pill-sub">802.881.5746</span>
    </a>

    <a class="pill" href="mailto:hello@example.com" data-copy="hello@example.com">
      <span class="pill-sub">michaelovertonfilms@gmail.com</span>
    </a>

    <a class="pill" href="https://instagram.com/yourhandle" target="_blank" rel="noopener" data-copy="@yourhandle">
      <span class="pill-sub">@mikemovt</span>
    </a>
  </div>
</section>

-->


          <!-- Carousel -->
           <div class="carousel-wrapper">
   <div class="carousel">
  <div class="carousel-track">


    <!-- VIDEO ABOUT ME (Need video first)
    <div class="carousel-slide">
  <video class="hero-media"
         autoplay
         loop
         muted
         playsinline
         preload="auto"
         poster="poster-frame.jpg">
    <source src="images/Client Videos/Thumbnail_previews/Road_Kill.mp4" type="video/mp4" />
    <source src="your-video.webm" type="video/webm" />
  </video>
<div class="carousel-content-1">
        <h2>Hey there.</h2><p>	
My name is Mike. I'm a Canadian-American filmmaker born and raised in New England. I love genre films!</p>
<br>
<p>My career path has been full of twists and turns. I started as a desk assistant at Anonymous Content under the leadership of the late Steve Golin, later became a Stage Manager at Google, and briefly explored following in my father’s footsteps as an aviator. But filmmaking was always calling, and I ultimately found my way back -- directing music videos, editing commercials, and chasing my own creative aspirations.</p>
      </div>
</div>

-->

     <div class="carousel-slide">
      <img src="images/Banners/Roadkill_Banner_13.png" alt="Slide 1"/>
      <div class="carousel-content-1">
        <h2>Hey there.</h2><p>	
My name is Mike. I'm an American filmmaker born and raised in New England, currently based in Los Angeles. I've been making videos since I was 12 years old. I love genre films!</p>
<br>
<p>My career has been full of twists and turns. After graduating from Chapman University's Film Production program in 2018, I worked as a desk assistant at Anonymous Content under the leadership of the late Steve Golin, later became a Stage Manager at Google, and briefly explored following in my father’s footsteps as an aviator. But filmmaking was always calling, and I ultimately found my way back ––– directing music videos, editing commercials, and chasing my own creative aspirations.</p>
      </div>
    </div>

    <div class="carousel-slide">
      <a href="https://www.youtube.com/watch?v=NbXN6OASW0g&list=RDNbXN6OASW0g&start_radio=1" target="_blank" class="slide-link">
  <video class="hero-media"
         autoplay
         loop
         muted
         playsinline
         preload="auto"
         poster="poster-frame.jpg">
    <source src="images/Client Videos/Thumbnail_previews/Over_Me.mp4" type="video/mp4" />
    <source src="your-video.webm" type="video/webm" />
  </video>
<div class="carousel-content">
        <h2>Over Me</h2><p>Reeve Stimpson · Music Video</p>
      </div>
      </a>
</div>

    <div class="carousel-slide">
      <a href="https://filmfreeway.com/Roadkill2025" target="_blank" class="slide-link">
      <img src="images/Banners/Roadkill_Banner_1.png" alt="Slide 1"/>
      <div class="carousel-content">
        <h2>Roadkill</h2><p>Sci-Fi/Thriller · 5min 30sec</p>
      </div>
      </a>
    </div>

 <div class="carousel-slide">
      <a href="https://www.youtube.com/watch?v=s9SLypSGHNc" target="_blank" class="slide-link">
  <video class="hero-media"
         autoplay
         loop
         muted
         playsinline
         preload="auto"
         poster="poster-frame.jpg">
    <source src="images/Client Videos/Thumbnail_previews/Alive_1.mp4" type="video/mp4" />
    <source src="your-video.webm" type="video/webm" />
  </video>
<div class="carousel-content">
        <h2>Alive</h2><p>Spencer Sutherland · Music Video</p>
      </div>
      </a>
</div>


    <div class="carousel-slide">
      <a href="https://www.youtube.com/watch?v=vvjeX8mM-Os&list=RDvvjeX8mM-Os&start_radio=1" target="_blank" class="slide-link">
      <img src="images/Banners/Chicken_Little_Banner1.png" alt="Slide 1"/>
      <div class="carousel-content">
        <h2>Chicken Little</h2><p>Spencer Sutherland x Meghan Trainor · Music Video</p>
      </div>
      </a>
    </div>

<!--

    <div class="carousel-slide">
      <a href="https://www.youtube.com/watch?v=3XrPcjJ3mYk&t=989s" target="_blank" class="slide-link">
      <img src="images/Banners/CKOM_compressed.png" alt="Slide 3"/>
      <div class="carousel-content">
        <h2>A Certain Kind of Man</h2><p>Crime/Thriller · 17min</p>
      </div>
      </a>
    </div>

    <div class="carousel-slide">
      <a href="https://vimeo.com/846385815?fl=pl&fe=sh" target="_blank" class="slide-link">
      <img src="images/Banners/highway9_compressed.png" alt="Slide 3"/>
      <div class="carousel-content">
        <h2>A Night Off Highway 9</h2><p>Sci-Fi/Thriller · 2min</p>
      </div>
      </a>
    </div>

    -->

     <div class="carousel-slide">
      <a href="https://www.youtube.com/watch?v=s9SLypSGHNc" target="_blank" class="slide-link">
  <video class="hero-media"
         autoplay
         loop
         muted
         playsinline
         preload="auto"
         poster="poster-frame.jpg">
    <source src="images/Client Videos/Thumbnail_previews/Long_Distance_Preview.mp4" type="video/mp4" />
    <source src="your-video.webm" type="video/webm" />
  </video>
<div class="carousel-content">
        <h2>Long Distance</h2><p>Sci-Fi/Drama · 6mins 30sec</p>
      </div>
      </a>
</div>

  </div>
  <div class="carousel-dots"></div>

<!-- Progress bar -->
<div class="carousel-progress" aria-hidden="true">
  <div class="bar"></div>
</div>
</div>

        
 <div class="spacer_2">
        </div>
        </div>


        <!-- Commercial -->


    <div class="scroll__row">
        <div class="scroll__header__top">
          
          <div class="sections">Commercial</div>
          <div class="progress-bar" style="z-index: 1;"></div>
        </div>
        <div class="scroll__container">
          <button class="handle left-handle">
            <div class="back__arrow">
              <i class="arrow left"></i>
            </div>
          </button>
          <div class="movie__slider">
            

            <div class="oldvideoPreview__box" data-video="https://player.vimeo.com/video/1118040333">
              <a href="#" class="preview__link">
                <div class="preview__wrapper">
                  <video class="oldvideoPreview" muted src="images/Client Videos/Thumbnail_previews/Spirit_Preview_v3.mp4" poster="images/Client Videos/Stills/Spirit_Thumbnail.png"></video>
                  <div class="preview__overlay">
                    <div class="preview__title">Spirit Airlines</div>
                    <div class="preview__client">One-Way Getaway</div>
                  </div>
                </div>
              </a>
            </div>

            <div class="oldvideoPreview__box" data-video="https://player.vimeo.com/video/1118047548">
              <a href="#" class="preview__link">
                <div class="preview__wrapper">
                  <video class="oldvideoPreview" muted src="images/Client Videos/Thumbnail_previews/Coors_Preview.mp4" poster="images/Client Videos/Stills/Coors_2.jpg"></video>
                  <div class="preview__overlay">
                    <div class="preview__title">Coors</div>
                    <div class="preview__client">The Family Dog Just Died</div>
                  </div>
                </div>
              </a>
            </div>
    

            

            
          </div>
          <button class="handle right-handle">
            <div class="back__arrow">
              <i class="arrow right"></i>
            </div>
          </button>
        </div>
      </div> 

      <!-- Music Video -->

      <div class="scroll__row">
        <div class="scroll__header__top">
          
          <div class="sections">Music Video</div>
          <div class="progress-bar" style="z-index: 1;"></div>
        </div>
        <div class="scroll__container">
          <button class="handle left-handle">
            <div class="back__arrow">
              <i class="arrow left"></i>
            </div>
          </button>
          <div class="movie__slider">
            
            <div class="oldvideoPreview__box" data-video="https://player.vimeo.com/video/846411231">
              <a href="#" class="preview__link">
                <div class="preview__wrapper">
                  <video class="oldvideoPreview" muted src="images/Client Videos/Thumbnail_previews/Chicken_Little.mp4" poster="images/Client Videos/Stills/Chicken_Little.jpg"></video>
                  <div class="preview__overlay">
                    <div class="preview__title">Chicken Little</div>
                    <div class="preview__client">Spencer Sutherland x Meghan Trainor</div>
                  </div>
                </div>
              </a>
            </div>

            <div class="oldvideoPreview__box" data-video="https://player.vimeo.com/video/1074546017">
              <a href="#" class="preview__link">
                <div class="preview__wrapper">
                  <video class="oldvideoPreview" muted src="images/Client Videos/Thumbnail_previews/Over_Me.mp4" poster="images/Client Videos/Stills/Over_Me.jpg"></video>
                  <div class="preview__overlay">
                    <div class="preview__title">Over Me</div>
                    <div class="preview__client">Reeve Stimpson</div>
                  </div>
                </div>
              </a>
            </div>

            <div class="oldvideoPreview__box" data-video="https://player.vimeo.com/video/1074963007">
              <a href="#" class="preview__link">
                <div class="preview__wrapper">
                  <video class="oldvideoPreview" muted src="images/Client Videos/Thumbnail_previews/Alive_1.mp4" poster="images/Client Videos/Stills/Alive.jpg"></video>
                  <div class="preview__overlay">
                    <div class="preview__title">Alive</div>
                    <div class="preview__client">Spencer Sutherland</div>
                  </div>
                </div>
              </a>
            </div>


          </div>
          <button class="handle right-handle">
            <div class="back__arrow">
              <i class="arrow right"></i>
            </div>
          </button>
        </div>
      </div> 

     <!-- Narrative -->

     <div class="scroll__row">
      <div class="scroll__header__top">
        
        <div class="sections">Narrative</div>
        <div class="progress-bar" style="z-index: 1;"></div>
      </div>
      <div class="scroll__container">
        <button class="handle left-handle">
          <div class="back__arrow">
            <i class="arrow left"></i>
          </div>
        </button>
        <div class="movie__slider">

          

           <div class="oldvideoPreview__box" data-video="https://player.vimeo.com/video/1118039299">
              <a href="#" class="preview__link">
                <div class="preview__wrapper">
                  <video class="oldvideoPreview" muted src="images/Client Videos/Thumbnail_previews/Long_Distance_Preview.mp4" poster="images/Client Videos/Stills/Long_Distance_Thumbnail.jpg"></video>
                  <div class="preview__overlay">
                    <div class="preview__title">Long Distance</div>
                    <div class="preview__client">Sci-Fi/Drama</div>
                  </div>
                </div>
              </a>
            </div>

            <div class="oldvideoPreview__box" data-video="https://player.vimeo.com/video/1118048761">
            <a href="#" class="preview__link">
              <div class="preview__wrapper">
                <video class="oldvideoPreview" muted src="images/Client Videos/Thumbnail_previews/Road_Kill.mp4" poster="images/Banners/Roadkill_Banner_12.png"></video>
                <div class="preview__overlay">
                  <div class="preview__title">Roadkill</div>
                  <div class="preview__client">Sci-Fi/Horror</div>
                </div>
              </div>
            </a>
          </div>

             <div class="oldvideoPreview__box" data-video="https://player.vimeo.com/video/384261944">
              <a href="#" class="preview__link">
                <div class="preview__wrapper">
                  <video class="oldvideoPreview" muted src="images/Client Videos/Thumbnail_previews/CKOM.mp4" poster="images/Client Videos/Stills/CKOM.jpg"></video>
                  <div class="preview__overlay">
                    <div class="preview__title">A Certain Kind of Man</div>
                    <div class="preview__client">Crime/Thriller</div>
                  </div>
                </div>
              </a>
            </div>

             <div class="oldvideoPreview__box" data-video="https://player.vimeo.com/video/532042321">
              <a href="#" class="preview__link">
                <div class="preview__wrapper">
                  <video class="oldvideoPreview" muted src="images/Client Videos/Thumbnail_previews/Natural_Selection.mp4" poster="images/Client Videos/Stills/Natural_Selection_2.jpg"></video>
                  <div class="preview__overlay">
                    <div class="preview__title">Natural Selection</div>
                    <div class="preview__client">Thriller</div>
                  </div>
                </div>
              </a>
            </div>



        </div>
        <button class="handle right-handle">
          <div class="back__arrow">
            <i class="arrow right"></i>
          </div>
        </button>
      </div>
    </div> 


 <!-- this is the script for the banner  -->
<script>
  // ====== config
  const SLIDE_MS = 20000; // 10s per slide (change this once)

  // ====== refs (reuse your existing ones if you already have them)
  const carousel = document.querySelector('.carousel');
  const track    = document.querySelector('.carousel-track');
  const slides   = [...track.children];

  // ============ Seamless loop setup ============
  // Keep your original "slides" array as the logical set:
  const realSlides = [...slides];

  // Clone first & last for seamless wrap
  const firstClone = realSlides[0].cloneNode(true);
  const lastClone  = realSlides[realSlides.length - 1].cloneNode(true);
  track.appendChild(firstClone);
  track.insertBefore(lastClone, track.firstChild);

  // Visible index in the augmented list ( [lastClone] [real 0] ... [real n-1] [firstClone] )
  let vIdx = 1; // start on first REAL slide

  // Start positioned on vIdx
  track.style.transition = 'none';
  track.style.transform  = `translateX(-${vIdx * 100}%)`;
  requestAnimationFrame(() => { track.style.transition = ''; });

  // Helper to update dots based on logical idx
  function updateDots() {
    dots.forEach((d, di) => d.classList.toggle('active', di === idx));
  }

  // Snap instantly after crossing a clone
  track.addEventListener('transitionend', () => {
    // if we just slid onto the "lastClone" (before first real)
    if (vIdx === 0) {
      track.style.transition = 'none';
      vIdx = realSlides.length; // jump to last REAL
      track.style.transform = `translateX(-${vIdx * 100}%)`;
      // force reflow, then restore transition
      track.offsetHeight;
      track.style.transition = '';
    }
    // if we just slid onto the "firstClone" (after last real)
    else if (vIdx === realSlides.length + 1) {
      track.style.transition = 'none';
      vIdx = 1; // jump to first REAL
      track.style.transform = `translateX(-${vIdx * 100}%)`;
      track.offsetHeight;
      track.style.transition = '';
    }
  });

  const dotsNav  = document.querySelector('.carousel-dots');
  let dots       = [...dotsNav.children]; // if you already created them earlier

  // create dots if your code hasn't yet
  if (dots.length === 0) {
    slides.forEach((_, i) => {
      const b = document.createElement('button');
      if (i === 0) b.classList.add('active');
      dotsNav.appendChild(b);
    });
    dots = [...dotsNav.children];
  }

  const bar = document.querySelector('.carousel-progress .bar');

  // ====== basic slide nav
  let idx = 0;

  // *** REPLACED go(i) ***
  function go(i){
    // logical 0..realSlides.length-1
    idx  = (i + realSlides.length) % realSlides.length;
    vIdx = idx + 1; // map to augmented track index
    track.style.transform = `translateX(-${vIdx * 100}%)`;
    updateDots();
    // reset progress each time we land on a slide
    startTime = performance.now();
  }

  // *** NEW: advance by direction (-1, 0, +1) while keeping the seamless motion ***
  function advance(dir = 1){
    if (dir === 0){
      // snap back to current vIdx (no slide change)
      track.style.transform = `translateX(-${vIdx * 100}%)`;
      updateDots();
      startTime = performance.now();
      return;
    }
    vIdx += dir; // move to the next/prev visible slide (may be a clone)
    track.style.transform = `translateX(-${vIdx * 100}%)`;

    // update the logical idx for dots immediately
    if (vIdx === 0) idx = realSlides.length - 1;                 // on lastClone
    else if (vIdx === realSlides.length + 1) idx = 0;            // on firstClone
    else idx = vIdx - 1;                                         // normal case

    updateDots();
    startTime = performance.now();
  }

  // ====== autoplay driven by rAF (syncs progress perfectly)
  let rafId = null;
  let startTime = performance.now();
  let paused = false;
  let pausedProgress = 0; // 0..1

  function tick(now){
    // progress this cycle
    const elapsed = now - startTime;
    let p = Math.min(elapsed / SLIDE_MS, 1);
    bar.style.transform = `scaleX(${p})`;

    if (p >= 1){
      // *** CHANGED: always move forward seamlessly ***
      advance(1);
      p = 0;
      bar.style.transform = `scaleX(0)`;
    }

    rafId = requestAnimationFrame(tick);
  }

  function startAuto(){
    cancelAuto();
    // if resuming from pause, resume from pausedProgress
    if (paused){
      startTime = performance.now() - pausedProgress * SLIDE_MS;
      paused = false;
    } else {
      startTime = performance.now();
      bar.style.transform = 'scaleX(0)';
    }
    rafId = requestAnimationFrame(tick);
  }

  function cancelAuto(){
    if (rafId) cancelAnimationFrame(rafId);
    rafId = null;
  }

  // ====== dot click: jump and restart cycle (logical jump)
  dots.forEach((d,i)=> d.addEventListener('click', () => {
    go(i);
    startAuto();
  }));

  // init (logical 0 -> visible index 1)
  go(0);
  startAuto();

  // =================== SWIPE (unchanged API, now uses vIdx/advance) ===================
  (() => {
    const carouselEl = document.querySelector('.carousel');
    const trackEl    = document.querySelector('.carousel-track');

    // reuse globals: slides, idx, go(), startAuto(), cancelAuto(), vIdx, advance()
    let dragging = false;
    let startX = 0, moved = 0, startTime = 0;
    const THRESHOLD_FRAC = 0.15;     // 15% width to change slide
    const CLICK_SLOP_PX  = 8;        // <= this = treat as click
    const FLICK_PX_MS    = 0.5;      // quick flick velocity

    function width(){
      const r = carouselEl.getBoundingClientRect();
      return Math.max(1, r.width);
    }
    function pxToPct(px){ return (px / width()) * 100; }

    // ---- shared helpers
    function beginDrag(x){
      dragging  = true;
      startX    = x;
      moved     = 0;
      startTime = performance.now();
      trackEl.classList.add('dragging');
      carouselEl.classList.add('grabbing');
      cancelAuto();
    }

    // *** CHANGED: follow the finger from vIdx (augmented index) ***
    function followDrag(x){
      if (!dragging) return;
      const dx = x - startX;
      moved = dx;
      trackEl.style.transform = `translateX(calc(-${vIdx*100}% + ${pxToPct(dx)}%))`;
    }

    // *** CHANGED: use advance() instead of computing next/go() ***
    function finishDrag(dx, dt){
      const v = Math.abs(dx) / Math.max(1, dt);
      const passed = Math.abs(dx) > width() * THRESHOLD_FRAC;
      const flick  = v > FLICK_PX_MS;
      if (passed || flick) {
        advance(dx < 0 ? 1 : -1);
      } else {
        advance(0); // snap back
      }
      startAuto();
    }

    function endDrag(){
      if (!dragging) return;
      dragging = false;
      trackEl.classList.remove('dragging');
      carouselEl.classList.remove('grabbing');
    }

    // ---- Touch (phones/tablets)
    function onTouchStart(ev){
      if (ev.target.closest('.carousel-dots')) return; // let dots be taps
      const t = ev.touches[0];
      beginDrag(t.clientX);
    }
    function onTouchMove(ev){
      if (!dragging) return;
      followDrag(ev.touches[0].clientX);
    }
    function onTouchEnd(){
      const dx = moved;
      const dt = performance.now() - startTime;
      endDrag();
      if (Math.abs(dx) <= CLICK_SLOP_PX) { finishDrag(0, dt); return; }
      finishDrag(dx, dt);
    }
    function onTouchCancel(){
      endDrag();
      // *** CHANGED: snap to current vIdx, not idx ***
      trackEl.style.transform = `translateX(-${vIdx * 100}%)`;
      startAuto();
    }

    // ---- Mouse (desktops/laptops)
    function onMouseDown(ev){
      // left button only; ignore if starting on dots
      if (ev.button !== 0 || ev.target.closest('.carousel-dots')) return;
      beginDrag(ev.clientX);
      ev.preventDefault();
    }
    function onMouseMove(ev){
      if (!dragging) return;
      followDrag(ev.clientX);
    }
    function onMouseUp(){
      if (!dragging) return;
      const dx = moved;
      const dt = performance.now() - startTime;
      endDrag();
      if (Math.abs(dx) <= CLICK_SLOP_PX) { finishDrag(0, dt); return; }
      finishDrag(dx, dt);
    }

    // Safety: if pointer leaves/blur mid-drag, snap back & resume
    window.addEventListener('mouseleave', onMouseUp);
    window.addEventListener('blur',      onTouchCancel);

    // Attach listeners
    carouselEl.addEventListener('touchstart',  onTouchStart,  { passive: true });
    carouselEl.addEventListener('touchmove',   onTouchMove,   { passive: true });
    carouselEl.addEventListener('touchend',    onTouchEnd,    { passive: true });
    carouselEl.addEventListener('touchcancel', onTouchCancel, { passive: true });

    carouselEl.addEventListener('mousedown', onMouseDown);
    window.addEventListener('mousemove', onMouseMove);
    window.addEventListener('mouseup',   onMouseUp);

    // (Your prior link-suppression logic can stay; after CTA migration there are no .slide-link anchors.)
  })();

  // =================== CTA migration (unchanged) ===================
  (() => {
    const slides = document.querySelectorAll('.carousel-slide');

    slides.forEach(slide => {
      const a = slide.querySelector('.slide-link');
      if (!a) return; // nothing to migrate

      const href   = a.getAttribute('href');
      const target = a.getAttribute('target') || '_blank';

      // Move children of <a> back into the slide (unwrap anchor)
      const kids = [...a.childNodes];
      const parent = a.parentNode;
      kids.forEach(n => parent.insertBefore(n, a));
      a.remove();

      // Find or create the content block
      let content = slide.querySelector('.carousel-content, .carousel-content-1');
      if (!content) {
        content = document.createElement('div');
        content.className = 'carousel-content';
        slide.appendChild(content);
      }

      // If CTA already present, skip
      if (content.querySelector('.carousel-cta')) return;

      // Build CTA bar + button
      const ctaBar = document.createElement('div');
      ctaBar.className = 'carousel-cta';

      const btn = document.createElement('a');
      btn.className = 'cta-btn';
      btn.textContent = 'Watch Now';
      btn.href = href || '#';
      btn.target = target;
      btn.rel = 'noopener';

      ctaBar.appendChild(btn);
      content.appendChild(ctaBar);
    });
  })();
</script>

<!-- this is the end of the script for the banner  -->
 

 <!-- this is the script for the scrolling feature  -->
 <script>
/* ========== PROGRESS + ARROW CLICK BINDINGS ========== */
function pagesFor(slider){
  const items = slider.children.length;
  const per = parseInt(getComputedStyle(slider).getPropertyValue('--items-per-screen')) || 1;
  return Math.max(1, Math.ceil(items / per));
}
function getIdx(slider){
  return parseInt(getComputedStyle(slider).getPropertyValue('--slider-index')) || 0;
}
function setIdx(slider, idx){
  slider.style.setProperty('--slider-index', idx);
  slider.style.transform = `translateX(calc(${idx} * -100%))`;
}
function setProgress(pb, idx){
  pb.querySelectorAll('.progress-item').forEach((el, i) => el.classList.toggle('active', i === idx));
}
function calculateProgressBar(progressBar){
  progressBar.innerHTML = "";
  const row    = progressBar.closest('.scroll__row');
  const slider = row.querySelector('.slider, .poster__slider, .movie__slider, .top__movie__slider');
  if (!slider) return;

  const pgs   = pagesFor(slider);
  let idx     = getIdx(slider);
  if (idx >= pgs){ idx = pgs - 1; setIdx(slider, idx); }

  for (let i=0;i<pgs;i++){
    const dot = document.createElement('div');
    dot.className = 'progress-item' + (i===idx?' active':'');
    progressBar.append(dot);
  }

  // Auto-hide arrows if only one page
  row.querySelectorAll('.handle').forEach(h => h.style.display = (pgs > 1 ? '' : 'none'));
}

// initial build + on resize
document.querySelectorAll('.progress-bar').forEach(calculateProgressBar);
window.addEventListener('resize', throttle(() => {
  document.querySelectorAll('.progress-bar').forEach(calculateProgressBar);
}, 250));

// onHandleClick (wraps around pages)
function onHandleClick(handle){
  const row     = handle.closest('.scroll__row');
  const slider  = row.querySelector('.slider, .poster__slider, .movie__slider, .top__movie__slider');
  const pb      = row.querySelector('.progress-bar');
  if (!slider || !pb) return;

  const pgs = pagesFor(slider);
  let idx   = getIdx(slider);

  if (handle.classList.contains('left-handle')) {
    idx = (idx <= 0) ? (pgs - 1) : (idx - 1);
  } else {
    idx = (idx >= pgs - 1) ? 0 : (idx + 1);
  }

  setIdx(slider, idx);
  setProgress(pb, idx);
}

// bind handles directly (bullet-proof)
document.querySelectorAll('.scroll__row .handle').forEach(h => {
  h.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    e.stopImmediatePropagation();
    onHandleClick(h);
  });
});

/* ========== THROTTLE HELPER ========== */
function throttle(cb, delay = 1000){
  let wait = false, nextArgs;
  const run = () => {
    if (!nextArgs){ wait = false; return; }
    cb(...nextArgs); nextArgs = null; setTimeout(run, delay);
  };
  return (...args) => {
    if (wait){ nextArgs = args; return; }
    cb(...args); wait = true; setTimeout(run, delay);
  };
}

/* ========== SWIPE (touch + mouse) — keeps tap-to-lightbox working ========== */
(() => {
  const ROWS = document.querySelectorAll('.scroll__row');
  const SLIDER_SEL = '.slider, .poster__slider, .movie__slider, .top__movie__slider';

  const THRESHOLD_FRAC = 0.12;  // 12% width or a flick
  const CLICK_SLOP_PX  = 8;     // below this = tap
  const FLICK_PX_MS    = 0.6;   // px/ms

  ROWS.forEach(row => {
    const slider   = row.querySelector(SLIDER_SEL);
    const progress = row.querySelector('.progress-bar');
    const container = row.querySelector('.scroll__container') || row;
    if (!slider || !progress) return;

    // let drags start on thumbs (no ghost image)
    slider.querySelectorAll('img, a, video').forEach(el => el.setAttribute('draggable','false'));
    slider.addEventListener('dragstart', e => e.preventDefault());

    let dragging=false, startX=0, moved=0, startTime=0, startIdx=0, didSwipe=false, downTarget=null;
    const width   = () => Math.max(1, container.getBoundingClientRect().width);
    const pxToPct = (px) => (px / width()) * 100;

    function beginDrag(x, target){
      if (target && target.closest && target.closest('.handle')) return; // let arrows click
      dragging=true; startX=x; moved=0; startTime=performance.now(); startIdx=getIdx(slider);
      didSwipe=false; downTarget=target;
      slider.classList.add('dragging'); slider.style.willChange='transform';
    }
    function followDrag(x){
      if (!dragging) return;
      const dx = x - startX; moved=dx;
      slider.style.transform = `translateX(calc(${startIdx} * -100% + ${pxToPct(dx)}%))`;
    }
    function endDrag(){
      if (!dragging) return;
      dragging=false; slider.classList.remove('dragging'); slider.style.willChange='';
    }
    function settle(dx, dt){
      const v = Math.abs(dx) / Math.max(1, dt);
      const passed = Math.abs(dx) > width() * THRESHOLD_FRAC;
      const flick  = v > FLICK_PX_MS;
      let idx = startIdx;
      if (passed || flick){ didSwipe=true;
        const pgs = pagesFor(slider);
        idx = dx < 0 ? (startIdx + 1) % pgs : (startIdx - 1 + pgs) % pgs;
      }
      setIdx(slider, idx); setProgress(progress, idx);
    }

    slider.addEventListener('pointerdown', (e) => {
      if (e.pointerType==='mouse' && e.button!==0) return;
      beginDrag(e.clientX, e.target);
      slider.setPointerCapture?.(e.pointerId);
    }, { passive:true });

    slider.addEventListener('pointermove', (e) => { if (dragging) followDrag(e.clientX); }, { passive:true });

    slider.addEventListener('pointerup', () => {
      if (!dragging) return;
      const dx = moved; const dt = performance.now() - startTime;
      endDrag();
      if (Math.abs(dx) <= CLICK_SLOP_PX){
        // tap: trigger the thing you pressed (anchors/lightbox)
        const tappable = downTarget && downTarget.closest
          ? downTarget.closest('a, button, [data-lightbox], [data-vimeo], [data-href]')
          : null;
        if (tappable && typeof tappable.click === 'function') tappable.click();
        setIdx(slider, startIdx); setProgress(progress, startIdx); didSwipe=false;
      } else {
        settle(dx, dt);
      }
    }, { passive:true });

    slider.addEventListener('pointercancel', () => {
      endDrag(); setIdx(slider, startIdx); setProgress(progress, startIdx); didSwipe=false;
    }, { passive:true });

    // After a real swipe, block click-through on slider (never the arrows)
    slider.addEventListener('click', (e) => {
      if (e.target.closest('.handle')) return;
      if (didSwipe){ e.preventDefault(); e.stopPropagation(); }
      didSwipe=false;
    }, { capture:true });
  });
})();
</script>
<!-- end of script for the scrolling feature  -->



<!-- script for video previews -->
<script>
document.querySelectorAll('.clientvideoPreview,.oldvideoPreview, .videoPreview, .img__description_layer').forEach(function(vid) {
vid.onmouseover = function() {
this.play();
}
vid.onmouseout = function() {
this.load(); // stop and show poster
}
})
</script>

<script>
  // this is for the LIGHTBOX!!
  const previews      = document.querySelectorAll('.oldvideoPreview__box');
  const lightbox      = document.getElementById('lightbox');
  const lightboxVideo = document.getElementById('lightbox-video');
  const lightboxClose = document.getElementById('lightbox-close');
  const lbContent     = lightbox.querySelector('.lightbox-content');

  function openLightbox(vimeoUrl, isScope){
    // set black frame ratio
    lbContent.classList.toggle('ratio-239', !!isScope);

    // force opaque player background + autoplay
    const sep = vimeoUrl.includes('?') ? '&' : '?';
    lightboxVideo.src = `${vimeoUrl}${sep}autoplay=1&transparent=0&title=0&byline=0&portrait=0&dnt=1`;

    lightbox.classList.remove('hidden');

    // lock scroll
    document.body.style.overflow = 'hidden';
  }

  function closeLightbox(){
    lightbox.classList.add('hidden');
    lightboxVideo.src = '';             // stop playback
    document.body.style.overflow = '';  // restore scroll
  }

  previews.forEach(preview => {
    preview.addEventListener('click', () => {
      const vimeoLink = preview.getAttribute('data-video') || '';
      const ratioAttr = (preview.getAttribute('data-ratio') || '').trim();
      const isScope   = ratioAttr === '239' || ratioAttr === '2.39';
      openLightbox(vimeoLink, isScope);
    });
  });

  lightboxClose.addEventListener('click', closeLightbox);

  // click outside the frame to close
  lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) closeLightbox();
  });

  // Esc to close
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && !lightbox.classList.contains('hidden')) {
      closeLightbox();
    }
  });
</script>

<script>
  const contactBtn = document.getElementById('contactBtn');
const contactPopup = document.getElementById('contactPopup');
const contactClose = document.getElementById('contactClose');

// open popup
contactBtn.addEventListener('click', (e) => {
  e.preventDefault(); // prevent nav from redirecting
  contactPopup.classList.remove('hidden');
});

// close popup
contactClose.addEventListener('click', () => {
  contactPopup.classList.add('hidden');
});

// close on background click
contactPopup.addEventListener('click', (e) => {
  if (e.target === contactPopup) {
    contactPopup.classList.add('hidden');
  }
});
</script>

<script>
const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
if (!isTouch) {
  // your desktop hover play/pause for preview videos here
}
</script>


</body>



</html>

